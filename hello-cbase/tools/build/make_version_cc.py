#!/usr/bin/env python

# Copyright (c) 2009 The Chromium Authors. All rights reserved.
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

# Creates cbase_version.cc which contains the definition of the
# kCbaseVersion constant.

import sys

def main(me, args):
  if len(args) != 2:
    print >>sys.stderr, 'usage: %s version.cc version' % me
    return 1

  (cc_file, version) = args

  contents = '''// automatically generated by %s

#include "hello-cbase/common/cbase_constants.hh"

namespace cbase {

const char kCbaseVersion[] = "%s";

}  // namespace cbase
''' % (me, version)

  output = open(cc_file, 'w')
  output.write(contents)
  output.close()

  return 0

if __name__ == '__main__':
  sys.exit(main(sys.argv[0], sys.argv[1:]))
